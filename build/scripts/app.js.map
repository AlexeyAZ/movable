{"version":3,"sources":["app.js"],"names":["$","length","rangeslider","polyfill","onInit","text","onSlide","position","value","each","self","index","addClass","removeClass","setSec3TextPaddingLeft","sec2TextBlockNumberWidth","width","console","log","css","webshim","setOptions","lazyCustomMessages","replaceValidationUI","phoneLink","md","MobileDetect","window","navigator","userAgent","mobile","attr","data","body","name","inputmask","greedy","on","e","preventDefault","target","hasClass","location","wl","callbacks","onFormSubmit","$form","res","status","selfName","find","selfPhone","selfEmail","formData","serialize","val","localStorage","setItem","def","submit","when","ajax","type","url","success","getItem"],"mappings":"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","file":"app.js","sourcesContent":["$(function() {\r\n\r\n    // $(\".calc__range-slider-mobile\").rangeslider({\r\n    //     polyfill: false,\r\n    //     onSlide: function(position, value) {\r\n    //         if (value >= 2) {\r\n                \r\n    //             $(\".calc__range-block-mobile\").each(function() {\r\n    //                 var self = $(this);\r\n\r\n    //                 if(self.index()  <= value) {\r\n    //                     self.addClass(\"calc__range-block-mobile_active\");\r\n    //                 } else {\r\n    //                     self.removeClass(\"calc__range-block-mobile_active\");\r\n    //                 }\r\n    //             });\r\n    //         }\r\n\r\n    //         if (value == 6) {\r\n    //             $(\".calc__range-wrap\").addClass(\"calc__range-wrap_full\");\r\n    //         } else {\r\n    //             $(\".calc__range-wrap\").removeClass(\"calc__range-wrap_full\");\r\n    //         }\r\n    //     }\r\n    // });\r\n\r\n    if ($('input[type=range]').length) {\r\n        $('input[type=range]').rangeslider({\r\n            polyfill: false,\r\n            onInit: function() {\r\n                $(\"#val1\").text(\"100 000\");\r\n                $(\"#val2\").text(\"81 000\");\r\n                $(\"#val3\").text(\"30 000\");\r\n                $(\"#val4\").text(\"1 359 876\");\r\n            },\r\n            onSlide: function(position, value) {\r\n                if(value == 1) {\r\n                    $(\"#val1\").text(\"100 000\");\r\n                    $(\"#val2\").text(\"81 000\");\r\n                    $(\"#val3\").text(\"30 000\");\r\n                    $(\"#val4\").text(\"1 359 876\");\r\n                } else if(value == 2) {\r\n                    $(\"#val1\").text(\"500 000\");\r\n                    $(\"#val2\").text(\"40 000\");\r\n                    $(\"#val3\").text(\"100 000\");\r\n                    $(\"#val4\").text(\"11 638 284\");\r\n                } else if(value == 3) {\r\n                    $(\"#val1\").text(\"300 000\");\r\n                    $(\"#val2\").text(\"380 000\");\r\n                    $(\"#val3\").text(\"200 000\");\r\n                    $(\"#val4\").text(\"11 292 384\");\r\n                } else if(value == 4) {\r\n                    $(\"#val1\").text(\"500 000\");\r\n                    $(\"#val2\").text(\"380 000\");\r\n                    $(\"#val3\").text(\"200 000\");\r\n                    $(\"#val4\").text(\"11 292 384\");\r\n                } else if(value == 5) {\r\n                    $(\"#val1\").text(\"1 000 000\");\r\n                    $(\"#val2\").text(\"380 000\");\r\n                    $(\"#val3\").text(\"200 000\");\r\n                    $(\"#val4\").text(\"10 745 232\");\r\n                } else if(value == 6) {\r\n                    $(\"#val1\").text(\"1 500 000\");\r\n                    $(\"#val2\").text(\"380 000\");\r\n                    $(\"#val3\").text(\"200 000\");\r\n                    $(\"#val4\").text(\"7 462 728\");\r\n                }\r\n                if (value >= 2) {\r\n                    \r\n                    $(\".calc__range-block\").each(function() {\r\n                        var self = $(this);\r\n\r\n                        if(self.index() + 3 <= value) {\r\n                            self.addClass(\"calc__range-block_active\");\r\n                        } else {\r\n                            self.removeClass(\"calc__range-block_active\");\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (value == 6) {\r\n                    $(\".calc__range-wrap\").addClass(\"calc__range-wrap_full\");\r\n                } else {\r\n                    $(\".calc__range-wrap\").removeClass(\"calc__range-wrap_full\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    function setSec3TextPaddingLeft() {\r\n        var sec2TextBlockNumberWidth = $(\"h2\").width();\r\n        console.log(sec2TextBlockNumberWidth)\r\n        $(\".sec3__text\").css(\"padding-left\", sec2TextBlockNumberWidth - 30);\r\n    }\r\n\r\n    //setSec3TextPaddingLeft();\r\n    \r\n\r\n    webshim.setOptions('forms', {\r\n        lazyCustomMessages: true,\r\n        replaceValidationUI: true\r\n    });\r\n    webshim.polyfill('forms');\r\n\r\n    function phoneLink() {\r\n        var md = new MobileDetect(window.navigator.userAgent);\r\n        var phoneLink = $(\"[data-phone]\");\r\n\r\n        if (md.mobile()) {\r\n            phoneLink.attr(\"href\", \"tel:\" + $(\".phone-link\").data(\"phone\"));\r\n            phoneLink.removeClass(\"js-small-btn\");\r\n            console.log(\"mobile\")\r\n        } else {\r\n            phoneLink.attr(\"href\", \"\");\r\n            phoneLink.addClass(\"js-small-btn\");\r\n            console.log(\"pc\")\r\n        }\r\n    }\r\n    phoneLink();\r\n\r\n    // form handler\r\n    var body = $(\"body\");\r\n    var name;\r\n\r\n    $(\"input[name=phone]\").inputmask({\r\n        \"mask\": \"+9(999)999-9999\",\r\n        greedy: false,\r\n    });\r\n\r\n    body.on(\"click\", \".js-small-btn\", function(e) {\r\n        e.preventDefault();\r\n\r\n        if (!$(\".thanks\").length) {\r\n            $(\"html\").addClass(\"form-open\");\r\n            $(\".form-wrap_small\").addClass(\"form-wrap_open\");\r\n        }\r\n    });\r\n\r\n    body.on(\"click\", function(e) {\r\n        var self = $(e.target);\r\n        \r\n        if (self.hasClass(\"form-wrap_small\") || self.hasClass(\"form__close\")){\r\n            $(\"html\").removeClass(\"form-open\");\r\n            $(\".form-wrap\").removeClass(\"form-wrap_open\");\r\n        } else if(self.hasClass(\"form-wrap_big\")) {\r\n            location = \"thanks.html\";\r\n        }\r\n    });\r\n\r\n    if (typeof wl != \"undefined\") {\r\n        wl.callbacks.onFormSubmit = function ($form, res) {\r\n            if ($form.data('next')) {\r\n            \r\n                if(res.status == 200) {\r\n                    $(\".form-wrap_open\").removeClass(\"form-wrap_open\");\r\n\r\n                    var selfName = $form.find(\"input[name=name]\");\r\n                    var selfPhone = $form.find(\"input[name=phone]\");\r\n                    var selfEmail = $form.find(\"input[name=email]\");\r\n                    var formData = $form.serialize();\r\n                    console.log(formData);\r\n\r\n                    $(\"[name=name1]\").val(selfName.val());\r\n                    $(\"[name=phone1]\").val(selfPhone.val());\r\n                    $(\"[name=email1]\").val(selfEmail.val());\r\n                    \r\n                    $(\"html\").addClass(\"form-open\");\r\n                    $(\".form-wrap_big\").addClass(\"form-wrap_open\");\r\n\r\n                    name = selfName.val();\r\n\r\n                    if (name) {\r\n                        localStorage.setItem(\"landclientname\", name + \", наши\");\r\n                    } else {\r\n                        localStorage.setItem(\"landclientname\", \"Наши\");\r\n                    }\r\n                } else {  \r\n                    wl.callbacks.def.onFormSubmit($form, res);\r\n                }\r\n            } else {\r\n                location = \"thanks.html\";\r\n            }\r\n        };\r\n    } else {\r\n        $(\"#smallForm, #bottomForm\").submit(function(e) {\r\n            e.preventDefault();\r\n            $(\".form-wrap_open\").removeClass(\"form-wrap_open\");\r\n\r\n            var self = $(this);\r\n            var selfName = self.find(\"input[name=name]\");\r\n            var selfPhone = self.find(\"input[name=phone]\");\r\n            var selfEmail = self.find(\"input[name=email]\");\r\n            var formData = self.serialize();\r\n            console.log(formData);\r\n\r\n            $(\"[name=name1]\").val(selfName.val());\r\n            $(\"[name=phone1]\").val(selfPhone.val());\r\n            $(\"[name=email1]\").val(selfEmail.val());\r\n\r\n            $.when(\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    url: \"php/send.php\",\r\n                    data: formData,\r\n                    success: function(data) {\r\n                        \r\n                    }\r\n                }),\r\n\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    url: \"php/sendwe.php\",\r\n                    data: formData,\r\n                    success: function(data) {\r\n                        \r\n                    }\r\n                })\r\n            );\r\n            \r\n\r\n            $(\"html\").addClass(\"form-open\");\r\n            $(\".form-wrap_big\").addClass(\"form-wrap_open\");\r\n\r\n            name = selfName.val();\r\n\r\n            if (name) {\r\n                localStorage.setItem(\"landclientname\", name + \", наши\");\r\n            } else {\r\n                localStorage.setItem(\"landclientname\", \"Наши\");\r\n            }\r\n        });\r\n\r\n        $(\"#bigForm\").submit(function(e) {\r\n            e.preventDefault();\r\n\r\n            var self = $(this);\r\n            var formData = self.serialize();\r\n\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: \"php/sendpresent.php\",\r\n                data: formData,\r\n                success: function(data) {\r\n                    location = \"thanks.html\";\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    if ($(\"#thanksName\").length) {\r\n        $(\"#thanksName\").text(localStorage.getItem(\"landclientname\"));\r\n    };\r\n});"]}